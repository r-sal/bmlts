if($("#overlayDetailWrap").length){$("#overlayDetailWrap").remove();$('style[overlayData="true"]').remove()}else{addDetailOverlay()}function addDetailOverlay(){var b=window.mb.socialMedia,a=(($(document).width()-932)/2)+"px";window.overlayDetailWrap=$("<div></div>").attr("id","overlayDetailWrap");$('<div class="toolbar"><a href="#" class="closeOverlay">Close</a></div>').appendTo(window.overlayDetailWrap);addSocialMedia(b);overlayDetailWrap.appendTo($("#main"));$("<style>         #overlayDetailWrap { padding: 2px 15px; width: 900px; left:"+a+'; -webkit-border-radius: 10px; border-radius: 10px; z-index: 15000; }           #overlayDetailWrap  { background: #dedede; position: fixed; top: 110px; border:1px solid #b8b8b8; }         #overlayDetailWrap h3{ font-size: 20px; border-bottom: 1px solid #000000; margin: 20px 0 10px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;}                        .printedSectionWrap{ position: relative; padding: 30px 10px 10px; margin-bottom: 20px; border: 1px solid #ddd; background-color: #fff; -webkit-box-shadow: inset 1px 1px 5px 1px rgba(196, 196, 196, .6); box-shadow:  inset 1px 1px 5px 1px rgba(196, 196, 196, .6); border-top: 1px solid #b8b8b8; border-left: 1px solid #b8b8b8; border-bottom: 1px solid #c5c5c5; border-right: 1px solid #c5c5c5;}            .printedSectionWrap::after{  position: absolute; top: -1px; left: -1px; padding: 3px 7px; font-size: 12px; font-weight: bold; background-color: #f5f5f5; border: 1px solid #b8b8b8; color: #9da0a4; -webkit-border-radius: 4px 0 4px 0; -moz-border-radius: 4px 0 4px 0; border-radius: 4px 0 4px 0; }          .socialSection::after { content: "Social Media"; box-shadow: 3px 3px 5px 1px rgba(196, 196, 196, .6); }         .wallpaperSection::after { content: "Wallpapers"; }                     #overlayDetailWrap table{ font-size: 13px; border: 1px solid #dddddd; border-spacing: 0; -webkit-border-radius: 5px; border-radius: 5px; }          #overlayDetailWrap td{ padding: 5px; border: 1px solid #dddddd; vertical-align: middle; }           table.socialTable td:first-of-type { width: 140px; background-color: #f9f9f9; }         table.socialTable td:last-of-type { width: 760px; }         table.socialTable td img{ max-width: 700px; }           table.walls tr:first-of-type td{ font-weight: bold; background-color: #f9f9f9; text-align: center;}         table.walls img { width: 281px; }                       .paperWrap { padding:5px; float:left; border:1px solid #000000;  min-height: 250px;  }          .paperWrap  { background-color: #f9f9f9; border: 1px solid #dddddd; }           .paperWrap span { display: block; font-size:14px; }         .paperWrap img { width: 250px; }            .toolbar{ height: 26px; padding: 3px 5px; margin-bottom: 5px; }         a.closeOverlay{ border: 1px solid #000000; padding: 5px 15px; float: right; -webkit-border-radius: 3px; border-radius: 3px;}            a.closeOverlay:hover{ background: #dfdfdf; }        </style>').attr("overlayData","true").appendTo($("head"));$(".closeOverlay").click(function(){$("#overlayDetailWrap").fadeOut(750,function(){$("#overlayDetailWrap").remove();$('style[overlayData="true"]').remove()})})}function addSocialMedia(f){var c=$("<table></table>").addClass("socialTable"),e=$("<tr><td></td><td></td></tr>"),d=[];d.push({label:"Email / Subject",value:f.title});d.push({label:"Email / Body",value:f.emailDescription});d.push({label:"Facebook / Image",value:'<img src="'+f.image+'" />'});d.push({label:"Facebook / Filename",value:urlToFilename(f.image)});d.push({label:"Facebook / Copy",value:f.description});d.push({label:"Twitter",value:f.shortDescription});for(var a in d){e.clone().find("td").eq(0).html(d[a].label).end().eq(1).html(d[a].value).end().end().appendTo(c)}var b=$("<div></div>").addClass("printedSectionWrap").addClass("socialSection");c.appendTo(b.appendTo(window.overlayDetailWrap))}function urlToFilename(a){return(!a)?"":a.substring(a.lastIndexOf("/")+1,(a.lastIndexOf("?")==-1)?a.length:a.lastIndexOf("?"))};