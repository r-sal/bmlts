if($(".modal-content-wrapper").length){if($("#overlayDetailWrap").length){$("#overlayDetailWrap").remove();$('style[overlayData="true"]').remove()}else{addDetailOverlay()}}function addDetailOverlay(){var g=window.mb.galleryAssets.carousels,f=window.location.href,c=/.*\/section-(\d)\/tout-(\d{1,2})\/.*/,a=c.exec(f),e=a[1],d=a[2],b=g[e].touts[d];console.log(b);window.overlayDetailWrap=$("<div></div>").attr("id","overlayDetailWrap");addSocialMedia(b);addWallPapers(b);overlayDetailWrap.appendTo($(".modal-content-wrapper"));$('<style>         #overlayDetailWrap { padding: 15px; width: 900px; margin: 0 35px; -webkit-border-radius: 10px; border-radius: 10px; }           #overlayDetailWrap  { height: 600px; background: #FFFFFF; position: absolute; top: 0px; }           #overlayDetailWrap h3{ font-size: 20px; border-bottom: 1px solid #000000; margin: 20px 0 10px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;}                        .printedSectionWrap{ position: relative; padding: 30px 10px 10px; margin-bottom: 20px; border: 1px solid #ddd; background-color: #fff; -webkit-box-shadow:  1px 1px 5px 1px rgba(196, 196, 196, .6); box-shadow:  1px 1px 5px 1px rgba(196, 196, 196, .6);}         .printedSectionWrap::after{  position: absolute; top: -1px; left: -1px; padding: 3px 7px; font-size: 12px; font-weight: bold; background-color: #f5f5f5; border: 1px solid #ddd; color: #9da0a4; -webkit-border-radius: 4px 0 4px 0; -moz-border-radius: 4px 0 4px 0; border-radius: 4px 0 4px 0; }         .socialSection::after { content: "Social Media"; }          .wallpaperSection::after { content: "Wallpapers"; }                     #overlayDetailWrap table{ font-size: 13px; border: 1px solid #dddddd; border-spacing: 0; -webkit-border-radius: 5px; border-radius: 5px; }          #overlayDetailWrap td{ padding: 5px; border: 1px solid #dddddd; vertical-align: middle; }           table.socialTable td:first-of-type { width: 110px; background-color: #f9f9f9; }         table.walls tr:first-of-type td{ font-weight: bold; background-color: #f9f9f9; text-align: center;}         table.walls img { width: 281px; }                       .paperWrap { padding:5px; float:left; border:1px solid #000000;  min-height: 250px;  }          .paperWrap  { background-color: #f9f9f9; border: 1px solid #dddddd; }           .paperWrap span { display: block; font-size:14px; }         .paperWrap img { width: 250px; }        </style>').attr("overlayData","true").appendTo($("head"))}function addSocialMedia(d){var c=$("<table></table>").addClass("socialTable"),f=$("<tr><td></td><td></td></tr>"),g=$("<img>").attr("src",d.socialMedia.image),e=[];e.push({label:"FB Copy",value:d.socialMedia.description});e.push({label:"FB Image",value:'<img src="'+d.socialMedia.image+'" />'});e.push({label:"FB Filename",value:urlToFilename(d.socialMedia.image)});e.push({label:"Twitter",value:d.socialMedia.shortDescription});e.push({label:"Email / Subject",value:d.socialMedia.title});e.push({label:"Email / Body",value:d.socialMedia.emailDescription});for(var a in e){f.clone().find("td").eq(0).html(e[a].label).end().eq(1).html(e[a].value).end().end().appendTo(c)}var b=$("<div></div>").addClass("printedSectionWrap").addClass("socialSection");c.appendTo(b.appendTo(window.overlayDetailWrap))}function addWallPapers(f){var a,d,c,b=$("<div><span></span><br></div>").addClass("paperWrap");img=$("<img>"),table=$("<table><tr><td>Wide</td><td>Standard</td><td>Mobile</td></tr></table>"),trImg=$("<tr></tr>"),trName=trImg.clone();table.addClass("walls");var e=$("<div></div>").addClass("printedSectionWrap").addClass("wallpaperSection");trImg.append($("<td></td>").append(img.clone().attr("src",f.widescreenWallpaper.url)));trImg.append($("<td></td>").append(img.clone().attr("src",f.standardWallpaper.url)));trImg.append($("<td></td>").append(img.clone().attr("src",f.mobileWallpaper.url)));trName.append($("<td></td>").append(urlToFilename(f.widescreenWallpaper.url)));trName.append($("<td></td>").append(urlToFilename(f.standardWallpaper.url)));trName.append($("<td></td>").append(urlToFilename(f.mobileWallpaper.url)));trImg.appendTo(table);trName.appendTo(table);table.appendTo(e);e.appendTo(window.overlayDetailWrap)}function urlToFilename(a){return(!a)?"":a.substring(a.lastIndexOf("/")+1,(a.lastIndexOf("?")==-1)?a.length:a.lastIndexOf("?"))};