javascript:(function(e,a,g,h,f,c,b,d){if(!(f=e.jQuery)||g>f.fn.jquery||h(f)){c=a.createElement("script");c.type="text/javascript";c.src="http://ajax.googleapis.com/ajax/libs/jquery/"+g+"/jquery.min.js";c.onload=c.onreadystatechange=function(){if(!b&&(!(d=this.readyState)||d=="loaded"||d=="complete")){h((f=e.jQuery).noConflict(1),b=1);f(c).remove()}};a.documentElement.childNodes[0].appendChild(c)}})(window,document,"1.7",function($,L){ (function(a,b){if(typeof exports==="object"&&exports){module.exports=b}else{if(typeof define==="function"&&define.amd){define(b)}else{a.Mustache=b}}})(this,function(){var t={};t.name="mustache.js";t.version="0.7.2";t.tags=["{{","}}"];t.Scanner=s;t.Context=q;t.Writer=o;var d=/\s*/;var k=/\s+/;var i=/\S/;var h=/\s*=/;var m=/\s*\}/;var r=/#|\^|\/|>|\{|&|=|!/;function n(w,v){return RegExp.prototype.test.call(w,v)}function g(v){return !n(i,v)}var j=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};function f(v){return v.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function l(v){return String(v).replace(/[&<>"'\/]/g,function(w){return c[w]})}t.escape=l;function s(v){this.string=v;this.tail=v;this.pos=0}s.prototype.eos=function(){return this.tail===""};s.prototype.scan=function(w){var v=this.tail.match(w);if(v&&v.index===0){this.tail=this.tail.substring(v[0].length);this.pos+=v[0].length;return v[0]}return""};s.prototype.scanUntil=function(w){var v,x=this.tail.search(w);switch(x){case -1:v=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:v="";break;default:v=this.tail.substring(0,x);this.tail=this.tail.substring(x);this.pos+=x}return v};function q(v,w){this.view=v;this.parent=w;this.clearCache()}q.make=function(v){return v instanceof q?v:new q(v)};q.prototype.clearCache=function(){this._cache={}};q.prototype.push=function(v){return new q(v,this)};q.prototype.lookup=function(v){var y=this._cache[v];if(!y){if(v==="."){y=this.view}else{var x=this;while(x){if(v.indexOf(".")>0){var z=v.split("."),w=0;y=x.view;while(y&&w<z.length){y=y[z[w++]]}}else{y=x.view[v]}if(y!=null){break}x=x.parent}}this._cache[v]=y}if(typeof y==="function"){y=y.call(this.view)}return y};function o(){this.clearCache()}o.prototype.clearCache=function(){this._cache={};this._partialCache={}};o.prototype.compile=function(x,v){var w=this._cache[x];if(!w){var y=t.parse(x,v);w=this._cache[x]=this.compileTokens(y,x)}return w};o.prototype.compilePartial=function(w,y,v){var x=this.compile(y,v);this._partialCache[w]=x;return x};o.prototype.compileTokens=function(y,x){var w=e(y);var v=this;return function(z,B){if(B){if(typeof B==="function"){v._loadPartial=B}else{for(var A in B){v.compilePartial(A,B[A])}}}return w(v,q.make(z),x)}};o.prototype.render=function(x,v,w){return this.compile(x)(v,w)};o.prototype._section=function(v,w,D,C){var B=w.lookup(v);switch(typeof B){case"object":if(j(B)){var x="";for(var y=0,A=B.length;y<A;++y){x+=C(this,w.push(B[y]))}return x}return B?C(this,w.push(B)):"";case"function":var E=this;var z=function(G){return E.render(G,w)};var F=B.call(w.view,D,z);return F!=null?F:"";default:if(B){return C(this,w)}}return""};o.prototype._inverted=function(v,w,y){var x=w.lookup(v);if(!x||j(x)&&x.length===0){return y(this,w)}return""};o.prototype._partial=function(v,w){if(!(v in this._partialCache)&&this._loadPartial){this.compilePartial(v,this._loadPartial(v))}var x=this._partialCache[v];return x?x(w):""};o.prototype._name=function(v,w){var x=w.lookup(v);if(typeof x==="function"){x=x.call(w.view)}return x==null?"":String(x)};o.prototype._escaped=function(v,w){return t.escape(this._name(v,w))};function e(x){var v={};function w(y,B,A){if(!v[y]){var z=e(B);v[y]=function(D,C){return z(D,C,A)}}return v[y]}return function(E,C,D){var z="";var B,F;for(var A=0,y=x.length;A<y;++A){B=x[A];switch(B[0]){case"#":F=D.slice(B[3],B[5]);z+=E._section(B[1],C,F,w(A,B[4],D));break;case"^":z+=E._inverted(B[1],C,w(A,B[4],D));break;case">":z+=E._partial(B[1],C);break;case"&":z+=E._name(B[1],C);break;case"name":z+=E._escaped(B[1],C);break;case"text":z+=B[1];break}}return z}}function u(B){var w=[];var A=w;var C=[];var y;for(var x=0,v=B.length;x<v;++x){y=B[x];switch(y[0]){case"#":case"^":C.push(y);A.push(y);A=y[4]=[];break;case"/":var z=C.pop();z[5]=y[2];A=C.length>0?C[C.length-1][4]:w;break;default:A.push(y)}}return w}function a(A){var x=[];var z,w;for(var y=0,v=A.length;y<v;++y){z=A[y];if(z[0]==="text"&&w&&w[0]==="text"){w[1]+=z[1];w[3]=z[3]}else{w=z;x.push(z)}}return x}function p(v){return[new RegExp(f(v[0])+"\\s*"),new RegExp("\\s*"+f(v[1]))]}t.parse=function(M,B){M=M||"";B=B||t.tags;if(typeof B==="string"){B=B.split(k)}if(B.length!==2){throw new Error("Invalid tags: "+B.join(", "))}var G=p(B);var w=new s(M);var E=[];var C=[];var A=[];var N=false;var L=false;function K(){if(N&&!L){while(A.length){C.splice(A.pop(),1)}}else{A=[]}N=false;L=false}var x,v,F,H;while(!w.eos()){x=w.pos;F=w.scanUntil(G[0]);if(F){for(var I=0,J=F.length;I<J;++I){H=F.charAt(I);if(g(H)){A.push(C.length)}else{L=true}C.push(["text",H,x,x+1]);x+=1;if(H==="\n"){K()}}}x=w.pos;if(!w.scan(G[0])){break}N=true;v=w.scan(r)||"name";w.scan(d);if(v==="="){F=w.scanUntil(h);w.scan(h);w.scanUntil(G[1])}else{if(v==="{"){var D=new RegExp("\\s*"+f("}"+B[1]));F=w.scanUntil(D);w.scan(m);w.scanUntil(G[1]);v="&"}else{F=w.scanUntil(G[1])}}if(!w.scan(G[1])){throw new Error("Unclosed tag at "+w.pos)}if(v==="/"){if(E.length===0){throw new Error('Unopened section "'+F+'" at '+x)}var z=E.pop();if(z[1]!==F){throw new Error('Unclosed section "'+z[1]+'" at '+x)}}var y=[v,F,x,w.pos];C.push(y);if(v==="#"||v==="^"){E.push(y)}else{if(v==="name"||v==="{"||v==="&"){L=true}else{if(v==="="){B=F.split(k);if(B.length!==2){throw new Error("Invalid tags at "+x+": "+B.join(", "))}G=p(B)}}}}var z=E.pop();if(z){throw new Error('Unclosed section "'+z[1]+'" at '+w.pos)}return u(a(C))};var b=new o;t.clearCache=function(){return b.clearCache()};t.compile=function(w,v){return b.compile(w,v)};t.compilePartial=function(w,x,v){return b.compilePartial(w,x,v)};t.compileTokens=function(w,v){return b.compileTokens(w,v)};t.render=function(x,v,w){return b.render(x,v,w)};t.to_html=function(y,w,x,z){var v=t.render(y,w,x);if(typeof z==="function"){z(v)}else{return v}};return t}());function urlToFilename(b){return(!b)?"":b.substring(b.lastIndexOf("/")+1,(b.lastIndexOf("?")==-1)?b.length:b.lastIndexOf("?"))}toolKit={tabs:[],options:{}};var vehicleOptions=window.mb.byo2.vehicleOptions,byoTabs=$(".byo2-tab").filter(':not("#tab-summary")').filter(':not("#tab-service")'),selections=[];byoTabs.each(function(){var b=$(this).attr("id").replace("tab-",""),c={name:b,options:[]},a=$(this).find(".options-options");a.find(".option").each(function(){var h=$(this).attr("id"),h=h.replace("option-",""),e=vehicleOptions[h],g=e.name||"None",d=$(this).find("input"),f=$(this).hasClass("selected")?"selected":"";c.options.push({name:g,id:h,input:d,selected:f});toolKit.options[h]=d});toolKit.tabs.push(c)});var template='<ul>{{#tabs}}<li><hr></li>{{#options}}<li><a href="#{{id}}" class="{{selected}}">{{name}}</a></li>{{/options}}{{/tabs}}</ul>';var html=Mustache.to_html(template,toolKit);mywindow=window.open("","MyPopup","width=210,height=500");mywindow.toolKit=toolKit;$(mywindow.document.body).html(html);$(mywindow.document).find("head").append("<title>"+$(".pp-vehicle-model").text()+"</title>");$(mywindow.document).find("head").append("<style>ul { list-style-type: none; margin: 0 auto; max-width: 200px; padding: 0; }li { border-bottom: 1px solid #FFF; }a{background:#CCC;padding:3px 5px;max-width:200px;font-size: 14px;display:block;/*text-align:center;*/border:1px solid hsl(0,0,0);border-bottom:0;color:#000;text-decoration:none}a.selected{background:hsla(120,100%,37%,0.46)}b{border-top:1px solid hsl(0,0,0);display:block;text-align:center;text-transform:uppercase;line-height:1.6em;vertical-align:bottom}b:first-of-type{border:0}a::last-of-type{border:1px solid}</style>");loadJquery();function loadJquery(){var a=false;var b=mywindow.document.createElement("script");b.src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js";b.onload=b.onreadystatechange=function(){if(!a&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){a=true;init()}};mywindow.document.getElementsByTagName("head")[0].appendChild(b)}function init(){mywindow.$("a").click(function(a){a.preventDefault();window.mb.byo2.setOptionValue($(this).attr("href").replace("#","").replace("option-",""));updateSelected()});$("#content-inner").find("*").click(function(a){updateSelected()})}function updateSelected(){mywindow.$("a").removeClass("selected");$.each(getSelected(),function(b,a){mywindow.$('a[href$="'+a+'"]').addClass("selected")})}function getSelected(){var a=window.mb.byo2.getCurrentBuild();return $.merge(a.entertainment["options"],$.merge(a.performance["options"],$.merge(a.exterior["options"],a.interior["options"])))}; });